(function(){var e;e="https://api.routific.com",window.q=function(e,n){return n?n.querySelector(e):document.querySelector(e)},window.qa=function(e,n){return n?n.querySelectorAll(e):document.querySelectorAll(e)},window.readCookie=function(e){var n,t=new RegExp("[; ]"+e+"=([^\\s;]*)");if(n=(" "+document.cookie).match(t),e&&n)return unescape(n[1])},window.getQueryParameter=function(e){var n,t,i=window.location.search;return n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),t=n.exec(i),null===t?null:null===t[2]?"":t[2]},window.fetchUser=function(n,t){return nanoajax.ajax({url:e+"/users/login",method:"GET",headers:{Authorization:"bearer "+n}},function(e,n,i){var r;return 200===e?(r=JSON.parse(n),t(r)):t(null)})}}).call(this),function(){var e,n,t,i,r,a,o,l;t="Nav-goto-app Button--tertiary",e="https://app.routific.com",n="https://app-v1.routific.com",i="/mobile_error",r=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i,o=function(){return!!navigator.userAgent.match(r)},l=function(){return"undefined"!=typeof analytics&&null!==analytics?analytics.page(void 0,void 0,{},{integrations:{All:!1,Intercom:!0}}):void 0},a=function(r){var a,s,c,u,d,f,m,v,p,h;u=q("html"),a=q("body"),f=r.querySelector(".js-nav-items"),m=r.querySelector(".js-nav-toggle"),d=r.querySelector(".js-nav-close"),c=r.querySelector(".js-dropdown-toggle"),s=r.querySelector(".Nav-dropdown"),p=function(){return m.addEventListener("click",function(e){return e.preventDefault(),f.classList.toggle("mobile-menu-is-active"),u.classList.toggle("disable-scroll"),a.classList.toggle("disable-scroll")}),d.addEventListener("click",function(e){return e.preventDefault(),f.classList.remove("mobile-menu-is-active"),u.classList.remove("disable-scroll"),a.classList.remove("disable-scroll")}),c.addEventListener("click",function(e){return s.classList.toggle("dropdown-menu-is-active")})};try{if(!(r&&m&&d))throw new Error("Nav not initialized, couldn't find all menu components.");p()}catch(g){v=g,console.log(v)}return h=readCookie("token"),h&&fetchUser(h,function(r){var a,l,s,c,u,d,f,m;if(r)return d=r.firstName||"",m=null,"undefined"!=typeof analytics&&null!==analytics&&analytics.identify(r._id,{email:r.email},{integrations:{Intercom:!0}}),o()?m=i:(s=null!=r&&null!=(f=r.settings)?f.beta:void 0,c=null==(null!=s?s.optedIn:void 0),u=null!=s&&s.optedOut,m=c||u?n:e),a=document.createElement("a"),a.href=m,a.className=t,a.innerHTML="Login "+d,l=q(".js-go-to-app"),l.replaceChild(a,l.children[0])}),l()},window.RoutificNav=a}.call(this),function(){var e;e=q(".Banner-close"),e.addEventListener("click",function(e){var n;return e.preventDefault(),n=e.target,n.parentElement.classList.add("hide")})}.call(this),function(){var e,n,t,i,r,a,o,l,s,c,u,d,f,m,v,p,h,g,w,y,L,b,E,S,k,j,N,x,P,T,I,O,_,A,B={}.hasOwnProperty;g="https://api.routific.com/users",y="/survey",c="https://app.routific.com",s="503630536473202",v="/mobile_error",p=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i,f="Please tell us your name!",d="Please give us your email?",m="Please set a password to create an account",u="Please use at least 6 characters",a='This email is already in use. Did you mean to <a href="/account/#/login">log in</a>?',n="Thank you! We just need to confirm your email - please check your inbox.",h="Whoops, something went wrong.. please contact support@routific.com",w="Form-success-msg",l="Form-error-msg",o="Form-invalid-input",t="Button-loading",e="lJ1r55OJ",r=".routific.com","null"===r&&(r=null),i=604800,window.addEventListener("load",function(){var e,n;if(null!=q("#form-1")&&(e=q("#form-1").children[0],e.addEventListener("submit",A)),null!=q("#form-2")&&(n=q("#form-2").children[0],n.addEventListener("submit",A)),null!=q("#form-3"))return n=q("#form-3").children[0],n.addEventListener("submit",A)}),A=function(e){var n,t;if(e.preventDefault(),n=e.target,P(n),t=_(n))return O(n)},P=function(e){var n=[].slice.call(e.getElementsByTagName("input"));return n.forEach(function(e){var n,t;if("submit"!==e.type&&e.classList.remove(o),(null!=(t=e.nextSibling)?t.className:void 0)===l)return n=e.nextSibling.parentNode,n.removeChild(e.nextSibling)})},_=function(e){var n,t,i,r;return t=e.querySelector('[name="name"]'),""===t.value?(L(t,f),!1):(n=e.querySelector('[name="email"]'),""===n.value?(L(n,d),!1):(i=e.querySelector('[name="password"]'),""===i.value?(L(i,m),!1):!((null!=(r=i.value)?r.length:void 0)<6)||(L(i,u),!1)))},O=function(n){var t,i,r;return x(n),t={hubspotUtk:readCookie("hubspotutk"),appID:e},null!=mixpanel.get_distinct_id&&(t.mixpanelId=mixpanel.get_distinct_id()),"undefined"!=typeof analytics&&null!==analytics&&(t.anonymousId=analytics.user().anonymousId()),i=[].slice.call(n.getElementsByTagName("input")),i.forEach(function(e){return"__campaign"===e.name&&e.value.length>0?t.analytics={campaign:e.value}:"submit"!==e.type?t[e.name]=e.value:void 0}),r=t.name.split(" "),t.firstName=r[0],r.shift(),r.length>0&&(t.lastName=r.join(" ")),nanoajax.ajax({url:g,method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json","Routific-App":e}},function(e,t,i){var r;return 200===e?E(function(){return j(n,t)}):(r=JSON.parse(t),k(n,e,r.error))})},k=function(e,t,i){var r;switch(t){case 409:r=e.querySelector('[name="email"]'),L(r,a);break;case 202:b(e,n);break;case 400:b(e,i);break;default:b(e,h)}return N(e)},T=function(){return!!navigator.userAgent.match(p)},I=function(){return T()?window.location=v:window.location=c},S=function(e){var n,t;return function(){var i=[];for(n in e)B.call(e,n)&&(t=e[n],i.push("cd["+n+"]="+t));return i}().join("&")},E=function(e){var n,t,i,r,a,o,l;return fbq?(t="Lead",r={content_name:"landing page",content_category:"full product"},n=encodeURIComponent(document.location.href),o=encodeURIComponent(document.referrer),l=(new Date).getTime(),a="&"+S(r)+"&dl="+n+"&rl="+o+"&ts="+l+"&if=false&noscript=1",i=new Image,i.onload=e,i.onerror=e,i.src="https://www.facebook.com/tr?id="+s+"&ev="+t+a,setTimeout(e,1500)):e()},j=function(e,n){var t,a=JSON.parse(n);return t="token="+a.token+"; max-age="+i+"; path=/; ",null!=r&&(t+="domain="+r),document.cookie=t,window.dataLayer.push({formName:"TrialSignupForm",event:"Trial_Signup"}),I()},L=function(e,n){var t=document.createElement("div");return t.className=l,t.innerHTML=n,e.parentNode.insertBefore(t,e.nextSibling),e.className+=" "+o},b=function(e,n){var t=document.createElement("div");return t.className=w,t.innerHTML=n,e.appendChild(t)},x=function(e){var n=e.querySelector('[type="submit"]');return n.className+=" "+t},N=function(e){var n=e.querySelector('[type="submit"]');return n.classList.remove(t)}}.call(this),function(){var e,n,t,i,r,a,o,l,s;n=q("html"),e=q("body"),l=q("#pop"),s=qa(".Popform-js"),r=q("#pop-close"),o=function(t){return t.classList.add("Popform-focus"),n.classList.toggle("disable-scroll"),e.classList.toggle("disable-scroll")},a=function(t){return t.classList.remove("Popform-focus"),n.classList.remove("disable-scroll"),e.classList.remove("disable-scroll")},t=function(){return window.location="#!",a(l)},i=function(){return window.location="#signup"},window.addEventListener("load",function(){var e,n,c,u,d;for(n=o.bind(null,l),e=a.bind(null,l),r.addEventListener("click",t),u=0,d=s.length;u<d;u++)c=s[u],c.addEventListener("click",i);if(window.onhashchange=function(){return"#signup"===location.hash?n():"#!"===location.hash||""===location.hash?e():void 0},"#signup"===location.hash)return n()})}.call(this),function(){var e,n,t;t={id:194568157,width:640,loop:!1},e=q(".Video-modal"),n=new Vimeo.Player("ytplayer",t),q(".js-play-video").addEventListener("click",function(){return e.classList.toggle("show-modal"),n.play(),n.setVolume(30)}),e.addEventListener("click",function(){return e.classList.toggle("show-modal"),n.pause()})}.call(this),function(){var e=function(e,n){var t,i,r,a,o,l,s,c,u,d,f,m,v,p,h,g,w,y,L,b,E;return null==n&&(n=!1),t=q(".js-slider-contents",e),i=qa(".js-slider-item",e),r=q(".js-slider-nav",e),l=q(".js-slider-prev",e),o=q(".js-slider-next",e),a=[],g=i.length,L=50*g+"%",d=100*g+"%",E=void 0,s=0,h=function(){return w(window.innerWidth),f(),u(),c(),y()},w=function(e){if(e<=1024&&(!E||E===L)&&(E=d,t.style.width=E),e>1024&&(!E||E===d)&&(E=L,t.style.width=E,g>1&&s===g-1))return v()},f=function(){var e,n=0;for(e=[];n<g;)!function(e){var n=document.createElement("a");return n.classList.add("Slider-nav-item"),n.classList.add("js-slider-nav-item"),n.setAttribute("data-index",e),0===e&&n.classList.add("is-active"),a.push(n),r.appendChild(n)}(n),e.push(n++);return e},c=function(){if(r.addEventListener("click",function(e){var n,t;if(e.preventDefault(),n=e.target,n.classList.contains("js-slider-nav-item"))return t=parseInt(n.getAttribute("data-index")),p(t)}),window.addEventListener("resize",function(e){return w(window.innerWidth)}),n===!1)return l.addEventListener("click",function(e){return e.preventDefault(),v()}),o.addEventListener("click",function(e){return e.preventDefault(),m()})},u=function(){var e,n,i;return n=0,e=0,i=350,t.addEventListener("touchstart",function(e){return n=e.touches[0].pageX},!1),t.addEventListener("touchmove",function(t){return e=e+t.touches[0].pageX-n},!1),t.addEventListener("touchend",function(n){return Math.abs(e)>i&&(e>0?v():m()),e=0},!1)},m=function(){if(!(2===g&&window.innerWidth>=1024))return p(s===g-1?0:s+1)},v=function(){if(!(2===g&&window.innerWidth>=1024))return p(0===s?g-1:s-1)},p=function(e){var n=-e/g*100+"%";return t.style.transform="translateX("+n+")",b(s,e),s=e},b=function(e,n){return a[e].classList.remove("is-active"),a[n].classList.add("is-active")},y=function(){return e.classList.add("is-active")},h()};window.RoutificSlider=e}.call(this),function(){var e,n;n=q(".js-slider"),RoutificSlider(n),e=q(".js-nav"),RoutificNav(e)}.call(this);